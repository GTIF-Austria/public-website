import{p as o,v as b,g as c,C as $,c as _,o as u,b as w,e as j}from"./chunks/framework.BIksGwVV.js";const N=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"page"},"headers":[],"relativePath":"providers/index.md","filePath":"providers/index.md"}'),x={name:"providers/index.md"},P=Object.assign(x,{setup(y){const l=o([]),n=o([]),d=o([]),g=a=>l.value.filter(s=>{var e;return(e=s.providers)==null?void 0:e.includes(a)}),h=a=>d.value.filter(s=>{var e;return(e=s.provider)==null?void 0:e.includes(a)});return b(async()=>{const a=`?t=${new Date().getTime()}`,e=await(await fetch(c(`/providers.json${a}`))).json(),f=await(await fetch(`https://gtif-austria.github.io/public-catalog/GTIF-Austria/catalog.json${a}`)).json();l.value=f.links.filter(t=>t.rel==="child");const v=await fetch(`https://gtif-austria.github.io/public-narratives/narratives.json${a}`);d.value=await v.json();const m=Object.entries(e).map(([t,i])=>({...i,id:t,indicators:g(t),narratives:h(t)}));n.value=m.map(t=>{var i,p;return{id:t.id,title:t.id,content:`
        ${t.Description}${t["NoR Offering"]?`<br /><br /><a class="primary-text" href='${t["NoR Offering"]}' target='_blank'>NoR Offering</a>`:""}
        ${(i=t.narratives)!=null&&i.length?`<br /><br />Narratives:<br />${t.narratives.map(r=>`<a class="primary-text" href='${c(`/narratives/${r.file.split(/\/|\\/).pop().replace(".md","")}`)}'>· ${r.title}</a>`).join("<br />")}`:""}
        ${(p=t.indicators)!=null&&p.length?`<br /><br />Datasets:<br /> ${t.indicators.map(r=>`<a class="primary-text" href='${c(`/explore/?indicator=${r.id}`)}'>· ${r.title}</a>`).join("<br />")}`:""}
      `,icon:{html:`<img src="${t.Logo}" alt="${t.id} logo" style="height: 100%; width: auto" />`,width:"auto"},link:{text:"Provider web page",href:t.Url}}})}),(a,s)=>{const e=$("FeaturesGallery");return u(),_("div",null,[n.value.length?(u(),w(e,{key:0,background:"transparent","section-title":"Providers",cards:n.value,style:{"padding-block":"0"}},null,8,["cards"])):j("",!0)])}}});export{N as __pageData,P as default};
